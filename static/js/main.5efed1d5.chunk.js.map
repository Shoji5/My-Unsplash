{"version":3,"sources":["api/index.ts","context/index.ts","components/Image.tsx","components/GridImages.tsx","images/logo.svg","components/NotificationBar.tsx","components/Header.tsx","components/Modal.tsx","components/Footer.tsx","App.tsx","index.tsx"],"names":["urlBase","searchImage","label","Axios","method","url","then","res","data","AppContext","createContext","images","imgId","setImages","setImgId","setSearchString","setPercent","Image","setState","image","useContext","className","onClick","_id","src","alt","GridImages","gap","items","map","key","node","minColumnWidth","NotificationBar","useState","closed","setClosed","useEffect","closeHandler","status","msg","type","xmlns","fill","viewBox","stroke","aria-hidden","strokeLinecap","strokeLinejoin","strokeWidth","d","stroke-linecap","stroke-linejoin","stroke-width","Header","noti","Logo","onSubmit","e","preventDefault","target","search","value","htmlFor","name","id","placeholder","autoComplete","reg","RegExp","Modal","state","setNoti","labelVali","setLabelVali","urlVali","setURLVali","passVali","setPassVali","pass2Vali","setPass2Vali","document","body","classList","add","remove","test","passwordd","password","JSON","stringify","headers","uploadImage","deleteImage","Footer","href","App","searchString","percent","Provider","color","progress","onLoaderFinished","waitingTime","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5efed1d5.chunk.js","sourcesContent":["import Axios from \"axios\";\r\n\r\n// const urlBase = \"http://localhost:5000/\";\r\nconst urlBase = \"https://myunsplash.herokuapp.com/\";\r\n\r\nexport const uploadImage = (label: string, url: string, password: string) => {\r\n  let data = JSON.stringify({ label, url, password });\r\n  return Axios({\r\n    method: \"POST\",\r\n    url: urlBase + \"api/upload\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    data,\r\n  }).then((res) => res.data);\r\n};\r\n\r\nexport const searchImage = (label: string) => {\r\n  return Axios({\r\n    method: \"GET\",\r\n    url: urlBase + \"api/search/\" + label,\r\n  }).then((res) => res.data);\r\n};\r\n\r\nexport const deleteImage = (id: string, password: string) => {\r\n  let data = JSON.stringify({ id, password });\r\n  return Axios({\r\n    method: \"POST\",\r\n    url: urlBase + \"api/delete\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    data,\r\n  }).then((res) => res.data);\r\n};\r\n","import { createContext } from \"react\";\r\n\r\ninterface AppContextInterface {\r\n  images: any[];\r\n  imgId: string;\r\n  setImages: any;\r\n  setImgId: Function;\r\n  setSearchString: Function;\r\n  setPercent: Function;\r\n}\r\n\r\nconst AppContext = createContext<AppContextInterface>({\r\n  images: [],\r\n  imgId: \"\",\r\n  setImages: () => {},\r\n  setImgId: () => {},\r\n  setSearchString: () => {},\r\n  setPercent: () => {},\r\n});\r\n\r\nexport default AppContext;\r\n","import React, { useContext } from \"react\";\r\nimport AppContext from \"../context\";\r\n\r\ntype ImageProps = {\r\n  setState: Function;\r\n  image: any;\r\n};\r\n\r\nexport default function Image({ setState, image }: ImageProps) {\r\n  const { setImgId } = useContext(AppContext);\r\n\r\n  const deleteHandler = () => {\r\n    setImgId(image._id);\r\n    setState(\"delete\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"img-container relative rounded-2xl overflow-hidden\">\r\n      <div className=\"mask absolute w-full h-full bg-black bg-opacity-50 duration-300\">\r\n        <div className=\"h-full relative font-mont\">\r\n          <button\r\n            className=\"px-3 text-white bg-red-400 hover:bg-red-500 rounded-full absolute top-3 right-3\"\r\n            onClick={deleteHandler}\r\n          >\r\n            delete\r\n          </button>\r\n          <p className=\" text-white text-lg absolute bottom-0 left-0 p-3\">{image.label}</p>\r\n        </div>\r\n      </div>\r\n      <img className=\"w-full\" src={image.url} alt=\"\" />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { Masonry } from \"react-masonry-responsive\";\r\nimport AppContext from \"../context\";\r\nimport Image from \"./Image\";\r\n\r\n// react-magic-grid\r\ntype GridProps = {\r\n  setState: Function;\r\n};\r\n\r\nexport default function GridImages({ setState }: GridProps) {\r\n  const { images } = useContext(AppContext);\r\n  return (\r\n    <div className=\"container mt-10 mx-auto px-4 min-w-640 min-h-500\">\r\n      <Masonry\r\n        gap={30}\r\n        items={images.map((image) => ({ key: image._id, node: <Image setState={setState} image={image} /> }))}\r\n        minColumnWidth={300}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.c888ca72.svg\";","import React, { useEffect, useState } from \"react\";\r\n\r\ntype NotificationProps = {\r\n  data: any;\r\n};\r\n\r\nexport default function NotificationBar({ data }: NotificationProps) {\r\n  const [closed, setClosed] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setClosed(false);\r\n  }, [data]);\r\n\r\n  const closeHandler = () => {\r\n    setClosed(true);\r\n  };\r\n\r\n  if (!data || closed) return null;\r\n  else if (data.status === \"ok\")\r\n    return (\r\n      <div className=\"bg-green-600 animate-slide-down fixed z-5 w-screen\">\r\n        <div className=\"container mx-auto py-3 px-3 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between flex-wrap\">\r\n            <div className=\"w-0 flex-1 flex items-center\">\r\n              <span className=\"rounded-lg bg-green-800 h-8 w-8 flex items-center justify-center\">\r\n                <i className=\"fas fa-check text-white text-xl\"></i>\r\n              </span>\r\n              <p className=\"ml-3 font-medium text-white truncate\">\r\n                <span className=\"inline\">{data?.msg}</span>\r\n              </p>\r\n            </div>\r\n            <div className=\"order-2 flex-shrink-0 sm:order-3 sm:ml-3\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"-mr-1 flex p-2 rounded-md hover:bg-green-500 focus:outline-none focus:ring-2 focus:ring-white sm:-mr-2\"\r\n                onClick={closeHandler}\r\n              >\r\n                <svg\r\n                  className=\"h-6 w-6 text-white\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                  aria-hidden=\"true\"\r\n                >\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  else\r\n    return (\r\n      <div className=\"bg-red-600 animate-slide-down fixed z-5 w-screen\">\r\n        <div className=\"container mx-auto py-3 px-3 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between flex-wrap\">\r\n            <div className=\"w-0 flex-1 flex items-center\">\r\n              <span className=\"rounded-lg bg-red-800 h-8 w-8 flex items-center justify-center\">\r\n                <i className=\"fas fa-check text-white text-xl\"></i>\r\n              </span>\r\n              <p className=\"ml-3 font-medium text-white truncate\">\r\n                <span className=\"inline\">{data?.msg}</span>\r\n              </p>\r\n            </div>\r\n            <div className=\"order-2 flex-shrink-0 sm:order-3 sm:ml-3\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"-mr-1 flex p-2 rounded-md hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-white sm:-mr-2\"\r\n                onClick={closeHandler}\r\n              >\r\n                <svg\r\n                  className=\"h-6 w-6 text-white\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                  aria-hidden=\"true\"\r\n                >\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport AppContext from \"../context\";\r\nimport Logo from \"../images/logo.svg\";\r\nimport NotificationBar from \"./NotificationBar\";\r\n\r\ntype HeaderProps = {\r\n  noti: undefined | { status: string; msg: string };\r\n  setState: Function;\r\n};\r\n\r\nexport default function Header({ setState, noti }: HeaderProps) {\r\n  const { setSearchString } = useContext(AppContext);\r\n\r\n  const addHandler = (e: any) => {\r\n    setState(\"add\");\r\n  };\r\n\r\n  const searchHandler = (e: any) => {\r\n    e.preventDefault();\r\n    setSearchString(e.target.search.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <header className=\"font-noto min-w-640 py-1 shadow bg-white sticky top-0 z-10\">\r\n        <div className=\"container mx-auto px-4 my-2 flex justify-between items-center \">\r\n          <div className=\"flex\">\r\n            <img className=\"mr-8\" src={Logo} alt=\"\" />\r\n            <form onSubmit={searchHandler}>\r\n              <label htmlFor=\"search\" className=\"relative\">\r\n                <input\r\n                  className=\"h-10 pl-9 border-2 border-gray-300 focus:border-gray-400 rounded-lg text-gray-700\"\r\n                  type=\"text\"\r\n                  name=\"search\"\r\n                  id=\"search\"\r\n                  placeholder=\"Search by name\"\r\n                  autoComplete=\"off\"\r\n                />\r\n                <i className=\"fas fa-search text-gray-300 absolute pos-center left-3\"></i>\r\n              </label>\r\n            </form>\r\n          </div>\r\n          <div>\r\n            <button\r\n              className=\"h-10 mr-4 px-4 text-white bg-green-500 hover:bg-green-600 rounded-lg shadow duration-300\"\r\n              onClick={addHandler}\r\n            >\r\n              Add a photo\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n      <NotificationBar data={noti} />\r\n    </>\r\n  );\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { deleteImage, searchImage, uploadImage } from \"../api\";\r\nimport AppContext from \"../context\";\r\n\r\ntype ModalProps = {\r\n  state: string;\r\n  setState: Function;\r\n  setNoti: Function;\r\n};\r\n\r\nconst reg = new RegExp(\"(http|https|ftp):[/]{2}([a-zA-Z0-9-.]+.[a-zA-Z]{2,4})\");\r\n\r\nexport default function Modal({ state, setState, setNoti }: ModalProps) {\r\n  const [labelVali, setLabelVali] = useState(true);\r\n  const [urlVali, setURLVali] = useState(true);\r\n  const [passVali, setPassVali] = useState(true);\r\n  const [pass2Vali, setPass2Vali] = useState(true);\r\n  const { setImages, imgId, setPercent } = useContext(AppContext);\r\n\r\n  useEffect(() => {\r\n    if (state !== \"none\") {\r\n      document.body.classList.add(\"overflow-hidden\");\r\n    } else document.body.classList.remove(\"overflow-hidden\");\r\n  }, [state]);\r\n\r\n  const addHandler = (e: any) => {\r\n    e.preventDefault();\r\n\r\n    if (e.target.label.value === \"\") {\r\n      setLabelVali(false);\r\n      return;\r\n    } else setLabelVali(true);\r\n\r\n    if (!reg.test(e.target.url.value)) {\r\n      setURLVali(false);\r\n      return;\r\n    } else setURLVali(true);\r\n\r\n    if (e.target.passwordd.value === \"\") {\r\n      setPassVali(false);\r\n      return;\r\n    } else setPassVali(true);\r\n\r\n    setPercent(80);\r\n    uploadImage(e.target.label.value, e.target.url.value, e.target.passwordd.value).then((res) => {\r\n      searchImage(\"\").then(setImages);\r\n      setPercent(100);\r\n      setNoti(res);\r\n    });\r\n    setState(\"none\");\r\n  };\r\n\r\n  const deleteHandler = (e: any) => {\r\n    e.preventDefault();\r\n    if (e.target.passwordd.value === \"\") {\r\n      setPass2Vali(false);\r\n      return;\r\n    } else setPass2Vali(true);\r\n\r\n    setPercent(80);\r\n    deleteImage(imgId, e.target.passwordd.value).then((res) => {\r\n      searchImage(\"\").then(setImages);\r\n      setPercent(100);\r\n      setNoti(res);\r\n    });\r\n    setState(\"none\");\r\n  };\r\n  return (\r\n    <>\r\n      {state === \"add\" ? (\r\n        <div className=\"fixed z-30 top-4 left-0 w-full\">\r\n          <form\r\n            className=\"modal mx-auto p-7 rounded-2xl font-noto bg-white flex flex-col w-500 animate-slide-down\"\r\n            onSubmit={addHandler}\r\n          >\r\n            <h5 className=\"text-gray-700 text-lg\">Add a new photo</h5>\r\n            <label className=\"text-gray-600 text-sm mt-4\" htmlFor=\"label\">\r\n              Label\r\n            </label>\r\n            <input\r\n              className={\r\n                \"text-gray-700 px-4 py-2 mt-2 border rounded-xl\" +\r\n                (labelVali ? \" border-gray-400 focus:border-gray-600\" : \" border-red-400 focus:border-red-600\")\r\n              }\r\n              type=\"text\"\r\n              name=\"\"\r\n              id=\"label\"\r\n              placeholder=\"Suspendisse elit massa\"\r\n              autoComplete=\"off\"\r\n            />\r\n            <label className=\"text-gray-600 text-sm mt-3\" htmlFor=\"url\">\r\n              Photo URL\r\n            </label>\r\n            <input\r\n              className={\r\n                \"text-gray-700 px-4 py-2 mt-2 border rounded-xl\" +\r\n                (urlVali ? \" border-gray-400 focus:border-gray-600\" : \" border-red-400 focus:border-red-600\")\r\n              }\r\n              type=\"text\"\r\n              name=\"\"\r\n              id=\"url\"\r\n              autoComplete=\"off\"\r\n              placeholder=\"https://images.unsplash.com/photo-1584395630827-860eee694d7b?ixlib=r...\"\r\n            />\r\n            <label className=\"text-gray-600 text-sm mt-4\" htmlFor=\"passwordd\">\r\n              Password\r\n            </label>\r\n            <input\r\n              className={\r\n                \"text-gray-700 px-4 py-2 mt-2 border rounded-xl\" +\r\n                (passVali ? \" border-gray-400 focus:border-gray-600\" : \" border-red-400 focus:border-red-600\")\r\n              }\r\n              type=\"text\"\r\n              name=\"\"\r\n              id=\"passwordd\"\r\n              placeholder=\"Password\"\r\n              autoComplete=\"off\"\r\n            />\r\n            <div className=\"mt-3 flex flex-row-reverse\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"h-10 mr-4 px-4 text-white bg-green-500 hover:bg-green-600 rounded-lg shadow transition\"\r\n              >\r\n                Submit\r\n              </button>\r\n              <button\r\n                className=\"h-10 mr-4 px-4 text-gray-300 bg-white hover:bg-gray-50 hover:shadow rounded-lg transition\"\r\n                onClick={() => setState(\"none\")}\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      ) : state === \"delete\" ? (\r\n        <div className=\"fixed z-30 top-4 left-0 w-full\">\r\n          <form\r\n            className=\"modal mx-auto p-7 rounded-2xl font-noto bg-white flex flex-col w-500 animate-slide-down\"\r\n            onSubmit={deleteHandler}\r\n          >\r\n            <h5 className=\"text-gray-700 text-lg\">Are you sure?</h5>\r\n            <label className=\"text-gray-600 text-sm mt-4\" htmlFor=\"passwordd\">\r\n              Password\r\n            </label>\r\n            <input\r\n              className={\r\n                \"text-gray-700 px-4 py-2 mt-2 border rounded-xl\" +\r\n                (pass2Vali ? \" border-gray-400 focus:border-gray-600\" : \" border-red-400 focus:border-red-600\")\r\n              }\r\n              type=\"Password\"\r\n              name=\"\"\r\n              id=\"passwordd\"\r\n              placeholder=\"********\"\r\n              autoComplete=\"off\"\r\n            />\r\n            <div className=\"mt-3 flex flex-row-reverse\">\r\n              <button type=\"submit\" className=\"h-10 mr-4 px-4 text-white bg-green-500 rounded-lg shadow transition\">\r\n                Submit\r\n              </button>\r\n              <button\r\n                className=\"h-10 mr-4 px-4 text-gray-300 bg-white hover:bg-gray-50 hover:shadow rounded-lg transition\"\r\n                onClick={() => setState(\"none\")}\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      ) : null}\r\n\r\n      <div\r\n        className={\r\n          \"modal-backdrop bg-black duration-300\" +\r\n          (state !== \"none\" ? \" fixed z-20 top-0 left-0 w-full h-full bg-opacity-50\" : \" bg-opacity-0\")\r\n        }\r\n        onClick={() => setState(\"none\")}\r\n      ></div>\r\n    </>\r\n  );\r\n}\r\n","export default function Footer() {\r\n  return (\r\n    <footer className=\"font-mont text-sm font-semibold text-center my-4\">\r\n      <a href=\"https://github.com/Shoji5\">Tuấn Vũ</a> @ <a href=\"https://devchallenges.io/\">DevChallenges.io</a>\r\n    </footer>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { searchImage } from \"./api\";\r\nimport GridImages from \"./components/GridImages\";\r\nimport Header from \"./components/Header\";\r\nimport Modal from \"./components/Modal\";\r\nimport AppContext from \"./context\";\r\nimport LoadingBar from \"react-top-loading-bar\";\r\nimport Footer from \"./components/Footer\";\r\n\r\nexport default function App() {\r\n  const [state, setState] = useState(\"none\");\r\n  const [images, setImages] = useState([]);\r\n  const [searchString, setSearchString] = useState(\"\");\r\n  const [imgId, setImgId] = useState(\"\");\r\n  const [noti, setNoti] = useState<undefined | { status: string; msg: string }>();\r\n  const [percent, setPercent] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setPercent(80);\r\n    searchImage(searchString).then((res) => {\r\n      setImages(res);\r\n      setPercent(100);\r\n    });\r\n  }, [searchString]);\r\n\r\n  return (\r\n    <AppContext.Provider value={{ images, imgId, setImages, setImgId, setSearchString, setPercent }}>\r\n      <LoadingBar color=\"#f11946\" progress={percent} onLoaderFinished={() => setPercent(0)} waitingTime={500} />\r\n      <Header setState={setState} noti={noti} />\r\n      <GridImages setState={setState} />\r\n      <Modal state={state} setState={setState} setNoti={setNoti} />\r\n      <Footer />\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"./tailwind.output.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}